# 1337b04rd


 –õ—è–ª—è –¥–ª—è —Ç–µ–±—è 
 1. Post creation:
 —Å–æ–∑–¥–∞–Ω–∏–µ –ø–æ—Å—Ç–∞ (–Ω–∞–∑–≤–∞–Ω–∏–µ, —Ç–µ–∫—Å—Ç, –∏–∑–æ–±—Ä., —É–Ω–∏–∫–∞–ª. ID)
 –µ—Å–ª–∏ —É –ø–æ—Å—Ç–∞ –Ω–µ—Ç—É –∫–æ–º–µ–Ω—Ç–∞ –æ–Ω–∞ —É–¥–∞–ª—è–µ—Ç—Å—è —á–µ—Ä–µ–∑ 10 –º–∏–Ω—É—Ç
 –µ—Å–ª–∏ –∫–æ–º–µ–Ω—Ç –µ—Å—Ç—å –æ–Ω–∞ —É–¥–∞–ª—è–µ—Ç—Å—è —á–µ—Ä–µ–∑ 15 –º–∏–Ω—É—Ç –ø–æ—Å–ª–µ –ø–æ—Å–ª–µ–¥–Ω–µ–≥–æ –∫–æ–º–µ–Ω—Ç–∞
 2. –ö–æ–º–µ–Ω—Ç—ã :
 –º–æ–∂–Ω–æ –∫–æ–º–µ–Ω—Ç–∏—Ç—å –ø–æ—Å—Ç—ã –∏ —á—É–∂–∏–µ –∫–æ–º–µ–Ω—Ç—ã
 –∫–æ–º–µ–Ω—Ç –¥–æ–ª–∂–µ–Ω –ø–æ–∫–∞–∑–∞—Ç—å (ID –ø–æ—Å—Ç–∞ –∏–ª–∏ –∫–æ–º–µ–Ω—Ç–∞ –Ω–∞ –∫–æ—Ç–æ—Ä—ã–π –æ–Ω –æ—Ç–≤–µ—á–∞–µ—Ç)   


–ê–π–∫–∞ –¥–ª—è —Ç–µ–±—è :
1. Session managment:
–∏–¥–∏–Ω—Ç–∏—Ñ–∏–∫–∞—Ü–∏—è —á–µ—Ä–µ–∑ –∫—É–∫–∏ –∫–∞–∂–¥–æ–º—É —é–∑–µ—Ä—É –ø—Ä–∏—Å–≤–æ–∏—Ç—å —É–Ω–∏–∫–∞–ª—å–Ω—ã–π –∞–≤–∞—Ç–∞—Ä –∏ –∏–º—è –ø–æ–ª—É—á–µ–Ω–Ω—ã–µ —á–µ—Ä–µ–∑ Rick and Morty API
2. Avatar manag:
–∞–≤–∞—Ç–∞—Ä—ã —É–Ω–∏–∫–∞–ª—å–Ω—ã –Ω–æ –µ—Å–ª–∏ –∑–∞–∫–æ–Ω—á–∞—Ç—Å—è —Ç–æ –ø–æ–≤—Ç–æ—Ä–Ω–æ
3. Images: 
–≤—Å–µ –∏–∑–æ–±—Ä–æ–∂–µ–Ω–∏—è —Ö—Ä–∞–Ω—è—Ç—å—Å—è –≤ s3 (triple-s) –∞–≤–∞—Ç–∞—Ä–∫–∏ –Ω–µ —Å–æ—Ö—Ä–∞–Ω—è–µ–º –ª–æ–∫–∞–ª—å–Ω–æ 


### –°—Ç—Ä—É–∫—Ç—É—Ä–∞ 

/internal
  /app
    /domain
      /models         // –ú–æ–¥–µ–ª–∏ –¥–∞–Ω–Ω—ã—Ö, —Ç–∞–∫–∏–µ –∫–∞–∫ Post, Comment –∏ —Ç.–¥.
      /ports          // –ò–Ω—Ç–µ—Ä—Ñ–µ–π—Å—ã (–ø–æ—Ä—Ç—ã), –∫–æ—Ç–æ—Ä—ã–µ –æ–ø–∏—Å—ã–≤–∞—é—Ç –æ–ø–µ—Ä–∞—Ü–∏–∏ (–Ω–∞–ø—Ä–∏–º–µ—Ä, —Ä–µ–ø–æ–∑–∏—Ç–æ—Ä–∏–∏, —Å–µ—Ä–≤–∏—Å—ã)
      /services       // –†–µ–∞–ª–∏–∑–∞—Ü–∏—è –±–∏–∑–Ω–µ—Å-–ª–æ–≥–∏–∫–∏, –∏—Å–ø–æ–ª—å–∑—É—é—â–∞—è –ø–æ—Ä—Ç—ã
  /infrastructure
    /adapters
      /repository     // –†–µ–∞–ª–∏–∑–∞—Ü–∏—è —Ä–µ–ø–æ–∑–∏—Ç–æ—Ä–∏–µ–≤, —Ä–∞–±–æ—Ç–∞—é—â–∏—Ö —Å –ë–î (–Ω–∞–ø—Ä–∏–º–µ—Ä, PostgreSQL)
      /storage        // –ê–¥–∞–ø—Ç–µ—Ä—ã –¥–ª—è —Ä–∞–±–æ—Ç—ã —Å –≤–Ω–µ—à–Ω–∏–º–∏ —Å–µ—Ä–≤–∏—Å–∞–º–∏ (–Ω–∞–ø—Ä–∏–º–µ—Ä, S3)
      /api            // –ê–¥–∞–ø—Ç–µ—Ä—ã –¥–ª—è –≤–∑–∞–∏–º–æ–¥–µ–π—Å—Ç–≤–∏—è —Å –≤–Ω–µ—à–Ω–∏–º–∏ API (–Ω–∞–ø—Ä–∏–º–µ—Ä, —Å Rick and Morty API)
  /interfaces
    /http
      /handlers       // HTTP-–æ–±—Ä–∞–±–æ—Ç—á–∏–∫–∏ –¥–ª—è –æ–±—Ä–∞–±–æ—Ç–∫–∏ –∑–∞–ø—Ä–æ—Å–æ–≤ –æ—Ç –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª–µ–π
      /middlewares    // –ü—Ä–æ–º–µ–∂—É—Ç–æ—á–Ω—ã–µ —Å–ª–æ–∏ (middleware), —Ç–∞–∫–∏–µ –∫–∞–∫ –∞—É—Ç–µ–Ω—Ç–∏—Ñ–∏–∫–∞—Ü–∏—è
    /grpc             // –ï—Å–ª–∏ –≤—ã –∏—Å–ø–æ–ª—å–∑—É–µ—Ç–µ gRPC, –∑–¥–µ—Å—å –±—É–¥–µ—Ç —Å–æ–æ—Ç–≤–µ—Ç—Å—Ç–≤—É—é—â–∏–π –∫–æ–¥


### üîê 1. Session Management

–ó–∞–¥–∞—á–∞: –ø—Ä–∏ –∑–∞—Ö–æ–¥–µ –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—è —á–µ—Ä–µ–∑ –∫—É–∫–∏ –∏–¥–µ–Ω—Ç–∏—Ñ–∏—Ü–∏—Ä–æ–≤–∞—Ç—å –µ–≥–æ, –ø—Ä–∏—Å–≤–æ–∏—Ç—å –∏–º—è + –∞–≤–∞—Ç–∞—Ä —Å Rick and Morty API
–ö—É–¥–∞ –ø–∏—Å–∞—Ç—å:
üìç/internal/domain/ports

    SessionManagerPort.go ‚Äì –∏–Ω—Ç–µ—Ä—Ñ–µ–π—Å —É–ø—Ä–∞–≤–ª–µ–Ω–∏—è —Å–µ—Å—Å–∏–µ–π

    UserProfileGeneratorPort.go ‚Äì –∏–Ω—Ç–µ—Ä—Ñ–µ–π—Å, –æ–ø–∏—Å—ã–≤–∞—é—â–∏–π –≥–µ–Ω–µ—Ä–∞—Ü–∏—é –∏–º–µ–Ω–∏ –∏ –∞–≤–∞—Ç–∞—Ä–∞ —á–µ—Ä–µ–∑ API

üìç/internal/domain/services

    SessionManagerService.go ‚Äì –ª–æ–≥–∏–∫–∞: —á–µ–∫ –∫—É–∫–∏ ‚Üí –µ—Å–ª–∏ –Ω–µ—Ç ‚Äî –≥–µ–Ω–µ—Ä–∏–º —é–∑–µ—Ä–∞ —á–µ—Ä–µ–∑ –ø–æ—Ä—Ç ‚Üí –∫–ª–∞–¥—ë–º –≤ –∫—É–∫—É

üìç/internal/infrastructure/adapters/api

    RickAndMortyAPI.go ‚Äì —Ç—É—Ç —Ç—ã —Ä–µ–∞–ª–∏–∑—É–µ—à—å UserProfileGeneratorPort, —Ö–æ–¥–∏—à—å –≤ Rick and Morty API

üìç/internal/interfaces/http/middlewares

    SessionMiddleware.go ‚Äì –ø–µ—Ä–µ—Ö–≤–∞—Ç—ã–≤–∞–µ—Ç –∫–∞–∂–¥—ã–π HTTP-–∑–∞–ø—Ä–æ—Å, –ø—Ä–æ–≤–µ—Ä—è–µ—Ç/—É—Å—Ç–∞–Ω–∞–≤–ª–∏–≤–∞–µ—Ç —Å–µ—Å—Å–∏—é –∏ –∞–≤–∞—Ç–∞—Ä

### üë§ 2. Avatar Management

–ó–∞–¥–∞—á–∞: –∞–≤–∞—Ç–∞—Ä—ã —É–Ω–∏–∫–∞–ª—å–Ω—ã, –Ω–æ –µ—Å–ª–∏ –∑–∞–∫–æ–Ω—á–∏–ª–∏—Å—å, –º–æ–∂–Ω–æ –ø–æ–≤—Ç–æ—Ä–Ω–æ
(–≤–æ–∑–º–æ–∂–Ω–æ, —Ç–µ–±–µ –Ω–∞–¥–æ –≤–µ—Å—Ç–∏ —É—á—ë—Ç ‚Äî –∫—Ç–æ –∫–∞–∫–æ–π –∞–≤–∞—Ç–∞—Ä —É–∂–µ –ø–æ–ª—É—á–∏–ª)
üìç/internal/domain/models

    User.go ‚Äì —Å—Ç—Ä—É–∫—Ç—É—Ä–∞ —Å –∏–º–µ–Ω–µ–º, –∞–≤–∞—Ç–∞—Ä–∫–æ–π –∏ ID

üìç/internal/domain/services

    AvatarService.go ‚Äì –ª–æ–≥–∏–∫–∞ –ø–æ –≤—ã–±–æ—Ä—É —É–Ω–∏–∫–∞–ª—å–Ω–æ–≥–æ –∞–≤–∞—Ç–∞—Ä–∞ (–Ω–∞–ø—Ä–∏–º–µ—Ä, –∫—ç—à–∏—Ä–æ–≤–∞—Ç—å ID—à–Ω–∏–∫–∏, –∫–æ—Ç–æ—Ä—ã–µ —É–∂–µ –≤—ã–¥–∞–ª–∏)

üìç/internal/infrastructure/adapters/api

    –¥–æ–ø–æ–ª–Ω–∏ RickAndMortyAPI.go ‚Äî —Å–æ—Ö—Ä–∞–Ω—è–π –≤—ã–¥–∞–Ω–Ω—ã–µ –∞–≤–∞—Ç–∞—Ä—ã –≤ –ª–æ–∫–∞–ª—å–Ω—ã–π –∫–µ—à (–ø–∞–º—è—Ç—å/–±–¥, –ø–æ —Å–∏—Ç—É–∞—Ü–∏–∏)

(–æ–ø—Ü–∏–æ–Ω–∞–ª—å–Ω–æ, –º–æ–∂–Ω–æ –¥–∞–∂–µ —Ä–µ–ø–æ–∑–∏—Ç–æ—Ä–∏–π AvatarUsageRepository —Å–æ–∑–¥–∞—Ç—å –∏ —Å–æ—Ö—Ä–∞–Ω—è—Ç—å, –∫–∞–∫–∏–µ —É–∂–µ –≤—ã–¥–∞–ª–∏)
### üñº 3. Images (S3)

–ó–∞–¥–∞—á–∞: –≤—Å–µ –ø–æ–ª—å–∑–æ–≤–∞–≠—Ç–æ –ø—Ä–æ–∏—Å—Ö–æ–¥–∏—Ç –≤ HTTP middleware –Ω–∞ –∫–∞–∂–¥–æ–º –∑–∞–ø—Ä–æ—Å–µ:

üìÅ /internal/interfaces/http/middlewares/SessionMiddleware.go—Ç–µ–ª—å—Å–∫–∏–µ –∏–∑–æ–±—Ä–∞–∂–µ–Ω–∏—è (–Ω–∞–ø—Ä–∏–º–µ—Ä, –∑–∞–≥—Ä—É–∑–∫–∞ –∫–∞—Ä—Ç–∏–Ω–æ–∫?) ‚Äî –≤ S3. –ê–≤–∞—Ç–∞—Ä–∫–∏ –Ω–µ —Å–æ—Ö—Ä–∞–Ω—è–µ–º.
üìç/internal/domain/ports

    ImageStoragePort.go ‚Äì –∏–Ω—Ç–µ—Ä—Ñ–µ–π—Å: UploadImage, GetImageURL, DeleteImage

üìç/internal/infrastructure/adapters/storage

    S3Storage.go ‚Äì —Ä–µ–∞–ª–∏–∑–∞—Ü–∏—è ImageStoragePort, —Ä–∞–±–æ—Ç–∞ —Å triple-s

## üéÅ –ö–∞–∫ –∏—Ç–æ–≥:
–ß—Ç–æ?:	            –ì–¥–µ –ø–∏—Å–∞—Ç—å
–ü–æ–ª—É—á–µ–Ω–∏–µ Rick&Morty –ø—Ä–æ—Ñ–∏–ª—è :	  /infrastructure/adapters/api + –ø–æ—Ä—Ç –≤ /domain/ports
–°–µ—Å—Å–∏–∏ –∏ –∫—É–∫–∏:       	  /domain/services, –º–∏–¥–ª–≤–∞—Ä—å –≤ /interfaces/http/middlewares
–ì–µ–Ω–µ—Ä–∞—Ü–∏—è –∏–º–µ–Ω–∏ –∏ –∞–≤–∞—Ç–∞—Ä–∫–∏:   	  /domain/services/UserService.go
–ü—Ä–æ–≤–µ—Ä–∫–∞ –Ω–∞ —É–Ω–∏–∫–∞–ª—å–Ω–æ—Å—Ç—å –∞–≤–∞—Ç–∞—Ä–∞:   	/domain/services/AvatarService.go
–†–∞–±–æ—Ç–∞ —Å S3:   	  /adapters/storage/S3Storage.go
–ò–Ω—Ç–µ—Ä—Ñ–µ–π—Å –∫ S3:   	/domain/ports/ImageStoragePort.go

### –ü–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—å –ø—Ä–æ—Å—Ç–æ –∑–∞—Ö–æ–¥–∏—Ç –Ω–∞ —Å–∞–π—Ç

–ï—Å–ª–∏ –Ω–µ—Ç –∫—É–∫–∏ ‚Üí –≥–µ–Ω–µ—Ä–∏—Ä—É–µ–º –µ–º—É –∏–º—è –∏ –∞–≤–∞—Ç–∞—Ä –∏–∑ Rick and Morty API ‚Üí —Å–æ—Ö—Ä–∞–Ω—è–µ–º –≤ –∫—É–∫–∏

–ï—Å–ª–∏ –∫—É–∫–∞ —É–∂–µ –µ—Å—Ç—å ‚Üí —Å—á–∏—Ç–∞–µ–º, —á—Ç–æ –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—å ¬´—É–∂–µ –∑–∞—Ä–µ–≥–∏—Å—Ç—Ä–∏—Ä–æ–≤–∞–Ω¬ª

### –û—Ç–∫—É–¥–∞ –±–µ—Ä—ë–º –∫—É–∫–∏?

–≠—Ç–æ –ø—Ä–æ–∏—Å—Ö–æ–¥–∏—Ç –≤ HTTP middleware –Ω–∞ –∫–∞–∂–¥–æ–º –∑–∞–ø—Ä–æ—Å–µ:

üìÅ /internal/interfaces/http/middlewares/SessionMiddleware.go